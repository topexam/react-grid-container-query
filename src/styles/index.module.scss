$grid-columns: 12 !default;

.grid,
[class*="grid-auto-"] {
    display: grid;
    grid-gap: var(--grid-gap, 0);
}

.grid {
    --grid-cols: #{$grid-columns};
    grid-template-columns: repeat(var(--grid-cols), 1fr);

    >* {
        grid-column-end: span var(--grid-cols);
    }
}

.grid-auto-1,
.grid-auto-2,
.grid-auto-3,
.grid-auto-4,
.grid-auto-5 {
    grid-template-columns: repeat(auto-fit, minmax(var(--col-min-width), 1fr));
}

.grid-auto-1 {
    --col-min-width: 8rem;
}

.grid-auto-2 {
    --col-min-width: 10rem;
}

.grid-auto-3 {
    --col-min-width: 15rem;
}

.grid-auto-4 {
    --col-min-width: 20rem;
}

.grid-auto-5 {
    --col-min-width: 25rem;
}

.grid-auto-cols {
    // cols = same size
    grid-template-columns: repeat(auto-fit, minmax(0, 1fr));
}

.grid-gap-4xs {
    --grid-gap: var(--space-4xs, 0.125rem);
}

.grid-gap-3xs {
    --grid-gap: var(--space-3xs, 0.25rem);
}

.grid-gap-2xs {
    --grid-gap: var(--space-2xs, 0.375rem);
}

.grid-gap-xs {
    --grid-gap: var(--space-xs, 0.5rem);
}

.grid-gap-sm {
    --grid-gap: var(--space-sm, 0.75rem);
}

.grid-gap-md {
    --grid-gap: var(--space-md, 1.25rem);
}

.grid-gap-lg {
    --grid-gap: var(--space-lg, 2rem);
}

.grid-gap-xl {
    --grid-gap: var(--space-xl, 3.25rem);
}

.grid-gap-2xl {
    --grid-gap: var(--space-2xl, 5.25rem);
}

.grid-gap-3xl {
    --grid-gap: var(--space-3xl, 8.5rem);
}

.grid-gap-4xl {
    --grid-gap: var(--space-4xl, 13.75rem);
}

@for $i from 1 through $grid-columns {
    .col-#{$i} {
        grid-column-end: span #{$i};
    }

    .col-start-#{$i} {
        grid-column-start: #{$i};
    }

    .col-end-#{$i+1} {
        grid-column-end: #{$i+1};
    }
}

.col-start {
    grid-column-start: 1;
}

.col-end {
    grid-column-end: -1;
}

// breakpoints
$breakpoints: (xs: 32rem,
    sm: 48rem,
    md: 64rem,
    lg: 80rem,
    xl: 90rem) !default;

@mixin breakpoint($breakpoint) {
    @media (min-width: map-get($map: $breakpoints, $key: $breakpoint)) {
        @content;
    }
}

@include breakpoint(xs) {
    .grid-auto-1\@xs {
        --col-min-width: 8rem;
    }

    .grid-auto-2\@xs {
        --col-min-width: 10rem;
    }

    .grid-auto-3\@xs {
        --col-min-width: 15rem;
    }

    .grid-auto-4\@xs {
        --col-min-width: 20rem;
    }

    .grid-auto-5\@xs {
        --col-min-width: 25rem;
    }

    .grid-auto-cols\@xs {
        grid-template-columns: repeat(auto-fit, minmax(0, 1fr));
    }

    @for $i from 1 through $grid-columns {
        .col-#{$i}\@xs {
            grid-column-end: span #{$i};
        }

        .col-start-#{$i}\@xs {
            grid-column-start: #{$i};
        }

        .col-end-#{$i+1}\@xs {
            grid-column-end: #{$i+1};
        }
    }

    .col-start-auto\@xs {
        grid-column-start: auto;
    }

    .col-end-auto\@xs {
        grid-column-end: auto;
    }
}

@include breakpoint(sm) {
    .grid-auto-1\@sm {
        --col-min-width: 8rem;
    }

    .grid-auto-2\@sm {
        --col-min-width: 10rem;
    }

    .grid-auto-3\@sm {
        --col-min-width: 15rem;
    }

    .grid-auto-4\@sm {
        --col-min-width: 20rem;
    }

    .grid-auto-5\@sm {
        --col-min-width: 25rem;
    }

    .grid-auto-cols\@sm {
        grid-template-columns: repeat(auto-fit, minmax(0, 1fr));
    }

    @for $i from 1 through $grid-columns {
        .col-#{$i}\@sm {
            grid-column-end: span #{$i};
        }

        .col-start-#{$i}\@sm {
            grid-column-start: #{$i};
        }

        .col-end-#{$i+1}\@sm {
            grid-column-end: #{$i+1};
        }
    }

    .col-start-auto\@sm {
        grid-column-start: auto;
    }

    .col-end-auto\@sm {
        grid-column-end: auto;
    }
}

@include breakpoint(md) {
    .grid-auto-1\@md {
        --col-min-width: 8rem;
    }

    .grid-auto-2\@md {
        --col-min-width: 10rem;
    }

    .grid-auto-3\@md {
        --col-min-width: 15rem;
    }

    .grid-auto-4\@md {
        --col-min-width: 20rem;
    }

    .grid-auto-5\@md {
        --col-min-width: 25rem;
    }

    .grid-auto-cols\@md {
        grid-template-columns: repeat(auto-fit, minmax(0, 1fr));
    }

    @for $i from 1 through $grid-columns {
        .col-#{$i}\@md {
            grid-column-end: span #{$i};
        }

        .col-start-#{$i}\@md {
            grid-column-start: #{$i};
        }

        .col-end-#{$i+1}\@md {
            grid-column-end: #{$i+1};
        }
    }

    .col-start-auto\@md {
        grid-column-start: auto;
    }

    .col-end-auto\@md {
        grid-column-end: auto;
    }
}

@include breakpoint(lg) {
    .grid-auto-1\@lg {
        --col-min-width: 8rem;
    }

    .grid-auto-2\@lg {
        --col-min-width: 10rem;
    }

    .grid-auto-3\@lg {
        --col-min-width: 15rem;
    }

    .grid-auto-4\@lg {
        --col-min-width: 20rem;
    }

    .grid-auto-5\@lg {
        --col-min-width: 25rem;
    }

    .grid-auto-cols\@lg {
        grid-template-columns: repeat(auto-fit, minmax(0, 1fr));
    }

    @for $i from 1 through $grid-columns {
        .col-#{$i}\@lg {
            grid-column-end: span #{$i};
        }

        .col-start-#{$i}\@lg {
            grid-column-start: #{$i};
        }

        .col-end-#{$i+1}\@lg {
            grid-column-end: #{$i+1};
        }
    }

    .col-start-auto\@lg {
        grid-column-start: auto;
    }

    .col-end-auto\@lg {
        grid-column-end: auto;
    }
}

@include breakpoint(xl) {
    .grid-auto-1\@xl {
        --col-min-width: 8rem;
    }

    .grid-auto-2\@xl {
        --col-min-width: 10rem;
    }

    .grid-auto-3\@xl {
        --col-min-width: 15rem;
    }

    .grid-auto-4\@xl {
        --col-min-width: 20rem;
    }

    .grid-auto-5\@xl {
        --col-min-width: 25rem;
    }

    .grid-auto-cols\@xl {
        grid-template-columns: repeat(auto-fit, minmax(0, 1fr));
    }

    @for $i from 1 through $grid-columns {
        .col-#{$i}\@xl {
            grid-column-end: span #{$i};
        }

        .col-start-#{$i}\@xl {
            grid-column-start: #{$i};
        }

        .col-end-#{$i+1}\@xl {
            grid-column-end: #{$i+1};
        }
    }

    .col-start-auto\@xl {
        grid-column-start: auto;
    }

    .col-end-auto\@xl {
        grid-column-end: auto;
    }
}